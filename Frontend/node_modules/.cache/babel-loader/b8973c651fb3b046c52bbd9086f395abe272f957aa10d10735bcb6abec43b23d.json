{"ast":null,"code":"import React,{useState}from'react';import{format}from\"timeago.js\";import{useParams}from'react-router-dom';import{useSelector}from\"react-redux\";import{createChats}from'../actions/chatActions';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CardDetails(){const[Address,setAddress]=useState();const history=useNavigate();const chatData={senderId:\"\",receiverId:\"\"};const{id}=useParams();const items=useSelector(state=>state.items);const item=items.find(item=>item._id.toString()===id);const user=useSelector(state=>state.auth.authData.result);const[selectedImage,setSelectedImage]=useState(item.images[0]);const handleMessage=async e=>{e.preventDefault();console.log(\"messege\");// chatData.senderId = user._id;\n// chatData.receiverId = item.userId;\n// await createChats(chatData);\n// history('/messages');\n};const getAddressFromLatLng=locationStr=>{const latitudeMatch=locationStr.match(/Latitude:\\s*(-?\\d+\\.\\d+)/);const longitudeMatch=locationStr.match(/Longitude:\\s*(-?\\d+\\.\\d+)/);const lat=latitudeMatch?parseFloat(latitudeMatch[1]):null;const lng=longitudeMatch?parseFloat(longitudeMatch[1]):null;const google=window.google;const geocoder=new google.maps.Geocoder();const latlng={lat:parseFloat(lat),lng:parseFloat(lng)};geocoder.geocode({location:latlng},(results,status)=>{if(status==='OK'){if(results[0]){setAddress(results[0].formatted_address);}else{console.log('No reßsults found');}}else{console.log('Geocoder failed due to: '+status);}});};getAddressFromLatLng(item.location);console.log(item);return/*#__PURE__*/_jsx(\"div\",{className:\"font-[sans-serif]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-6 lg:max-w-7xl max-w-2xl max-lg:mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid items-start grid-cols-1 lg:grid-cols-5 gap-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-3 bg-gray-100 w-full lg:sticky top-0 text-center p-8\",children:[/*#__PURE__*/_jsx(\"img\",{src:selectedImage,alt:\"Product\",className:\"w-4/5 rounded object-cover\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"border-white border-2 my-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-x-12 gap-y-6 justify-center mx-auto\",children:item.images.map((image,index)=>/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"Product\".concat(index),className:\"w-24 cursor-pointer\",onClick:()=>setSelectedImage(image)},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-extrabold text-gray-800\",children:item.category}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-4 mt-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-xl\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-sm-bold ml-1\",children:format(item.createdAt)})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-800\",children:\"About the Item\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-3 list-disc mt-4 pl-4 text-md text-gray-800\",children:/*#__PURE__*/_jsx(\"li\",{children:item.details})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 max-w-md\",children:[/*#__PURE__*/_jsx(\"h3\",{class:\"text-lg font-bold text-gray-800\",children:Address}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start mt-8\",onClick:handleMessage,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://readymadeui.com/team-2.webp\",className:\"w-12 h-12 rounded-full border-2 border-white\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-bold\",children:item.user}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1 mt-1\"})]})]})]})]})]})})});}","map":{"version":3,"names":["React","useState","format","useParams","useSelector","createChats","useNavigate","jsx","_jsx","jsxs","_jsxs","CardDetails","Address","setAddress","history","chatData","senderId","receiverId","id","items","state","item","find","_id","toString","user","auth","authData","result","selectedImage","setSelectedImage","images","handleMessage","e","preventDefault","console","log","getAddressFromLatLng","locationStr","latitudeMatch","match","longitudeMatch","lat","parseFloat","lng","google","window","geocoder","maps","Geocoder","latlng","geocode","location","results","status","formatted_address","className","children","src","alt","map","image","index","concat","onClick","category","createdAt","details","class"],"sources":["/Users/rohit/Desktop/lost/Frontend/src/components/CardDetails.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { format } from \"timeago.js\";\nimport { useParams } from 'react-router-dom';\nimport { useSelector } from \"react-redux\";\nimport { createChats } from '../actions/chatActions';\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function CardDetails() {\n    const [Address, setAddress] = useState();\n    const history = useNavigate();\n    const chatData = {\n        senderId: \"\",\n        receiverId: \"\"\n    };\n\n    const { id } = useParams();\n    const items = useSelector((state) => state.items);\n    const item = items.find((item) => item._id.toString() === id);\n    \n    const user = useSelector((state) => state.auth.authData.result);\n    \n    const [selectedImage, setSelectedImage] = useState(item.images[0]);\n\n    const handleMessage = async (e) => {\n        e.preventDefault();\n        console.log(\"messege\")\n        // chatData.senderId = user._id;\n        // chatData.receiverId = item.userId;\n        // await createChats(chatData);\n        // history('/messages');\n    };\n\n\n    const getAddressFromLatLng = (locationStr) => {\n        const latitudeMatch = locationStr.match(/Latitude:\\s*(-?\\d+\\.\\d+)/);\nconst longitudeMatch = locationStr.match(/Longitude:\\s*(-?\\d+\\.\\d+)/);\n\nconst lat = latitudeMatch ? parseFloat(latitudeMatch[1]) : null;\nconst lng = longitudeMatch ? parseFloat(longitudeMatch[1]) : null;\n\n    const google = window.google;\n    const geocoder = new google.maps.Geocoder();\n    const latlng = { lat: parseFloat(lat), lng: parseFloat(lng) };\n\n    geocoder.geocode({ location: latlng }, (results, status) => {\n      if (status === 'OK') {\n        if (results[0]) {\n          setAddress(results[0].formatted_address);\n        } else {\n          console.log('No reßsults found');\n        }\n      } else {\n        console.log('Geocoder failed due to: ' + status);\n      }\n    });\n  };\n\n  getAddressFromLatLng(item.location)\n  console.log(item)\n    return (\n        <div className=\"font-[sans-serif]\">\n            <div className=\"p-6 lg:max-w-7xl max-w-2xl max-lg:mx-auto\">\n                <div className=\"grid items-start grid-cols-1 lg:grid-cols-5 gap-12\">\n                    <div className=\"lg:col-span-3 bg-gray-100 w-full lg:sticky top-0 text-center p-8\">\n                        <img src={selectedImage} alt=\"Product\" className=\"w-4/5 rounded object-cover\" />\n                        <hr className=\"border-white border-2 my-6\" />\n                        <div className=\"flex flex-wrap gap-x-12 gap-y-6 justify-center mx-auto\">\n                            {item.images.map((image, index) => (\n                                <img\n                                    key={index}\n                                    src={image}\n                                    alt={`Product${index}`}\n                                    className=\"w-24 cursor-pointer\"\n                                    onClick={() => setSelectedImage(image)}\n                                />\n                            ))}\n                        </div>\n                    </div>\n                    <div className=\"lg:col-span-2\">\n                        <h2 className=\"text-2xl font-extrabold text-gray-800\">{item.category}</h2>\n                        <div className=\"flex flex-wrap gap-4 mt-4\">\n                            <p className=\"text-gray-400 text-xl\"> <span className=\"text-sm-bold ml-1\">{format(item.createdAt)}</span></p>\n                        </div>\n\n                        <div className=\"mt-8\">\n                            <h3 className=\"text-lg font-bold text-gray-800\">About the Item</h3>\n                            <ul className=\"space-y-3 list-disc mt-4 pl-4 text-md text-gray-800\">\n                                <li>{item.details}</li>\n                                    </ul>\n                        </div>\n                        <div className=\"mt-8 max-w-md\">\n                        <h3 class=\"text-lg font-bold text-gray-800\">{Address}</h3>\n                            <div className=\"flex items-start mt-8\" onClick={handleMessage}>\n                                <img src=\"https://readymadeui.com/team-2.webp\" className=\"w-12 h-12 rounded-full border-2 border-white\" />\n                                <div className=\"ml-2\">\n                                    <h4 className=\"text-lg font-bold\">{item.user}</h4>\n                                    <div className=\"flex space-x-1 mt-1\">\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,KAAQ,YAAY,CACnC,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,WAAW,KAAQ,wBAAwB,CACpD,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,cAAe,SAAS,CAAAC,WAAWA,CAAA,CAAG,CAClC,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CACxC,KAAM,CAAAa,OAAO,CAAGR,WAAW,CAAC,CAAC,CAC7B,KAAM,CAAAS,QAAQ,CAAG,CACbC,QAAQ,CAAE,EAAE,CACZC,UAAU,CAAE,EAChB,CAAC,CAED,KAAM,CAAEC,EAAG,CAAC,CAAGf,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAgB,KAAK,CAAGf,WAAW,CAAEgB,KAAK,EAAKA,KAAK,CAACD,KAAK,CAAC,CACjD,KAAM,CAAAE,IAAI,CAAGF,KAAK,CAACG,IAAI,CAAED,IAAI,EAAKA,IAAI,CAACE,GAAG,CAACC,QAAQ,CAAC,CAAC,GAAKN,EAAE,CAAC,CAE7D,KAAM,CAAAO,IAAI,CAAGrB,WAAW,CAAEgB,KAAK,EAAKA,KAAK,CAACM,IAAI,CAACC,QAAQ,CAACC,MAAM,CAAC,CAE/D,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAG7B,QAAQ,CAACoB,IAAI,CAACU,MAAM,CAAC,CAAC,CAAC,CAAC,CAElE,KAAM,CAAAC,aAAa,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC,CACtB;AACA;AACA;AACA;AACJ,CAAC,CAGD,KAAM,CAAAC,oBAAoB,CAAIC,WAAW,EAAK,CAC1C,KAAM,CAAAC,aAAa,CAAGD,WAAW,CAACE,KAAK,CAAC,0BAA0B,CAAC,CAC3E,KAAM,CAAAC,cAAc,CAAGH,WAAW,CAACE,KAAK,CAAC,2BAA2B,CAAC,CAErE,KAAM,CAAAE,GAAG,CAAGH,aAAa,CAAGI,UAAU,CAACJ,aAAa,CAAC,CAAC,CAAC,CAAC,CAAG,IAAI,CAC/D,KAAM,CAAAK,GAAG,CAAGH,cAAc,CAAGE,UAAU,CAACF,cAAc,CAAC,CAAC,CAAC,CAAC,CAAG,IAAI,CAE7D,KAAM,CAAAI,MAAM,CAAGC,MAAM,CAACD,MAAM,CAC5B,KAAM,CAAAE,QAAQ,CAAG,GAAI,CAAAF,MAAM,CAACG,IAAI,CAACC,QAAQ,CAAC,CAAC,CAC3C,KAAM,CAAAC,MAAM,CAAG,CAAER,GAAG,CAAEC,UAAU,CAACD,GAAG,CAAC,CAAEE,GAAG,CAAED,UAAU,CAACC,GAAG,CAAE,CAAC,CAE7DG,QAAQ,CAACI,OAAO,CAAC,CAAEC,QAAQ,CAAEF,MAAO,CAAC,CAAE,CAACG,OAAO,CAAEC,MAAM,GAAK,CAC1D,GAAIA,MAAM,GAAK,IAAI,CAAE,CACnB,GAAID,OAAO,CAAC,CAAC,CAAC,CAAE,CACdxC,UAAU,CAACwC,OAAO,CAAC,CAAC,CAAC,CAACE,iBAAiB,CAAC,CAC1C,CAAC,IAAM,CACLpB,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CAClC,CACF,CAAC,IAAM,CACLD,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAGkB,MAAM,CAAC,CAClD,CACF,CAAC,CAAC,CACJ,CAAC,CAEDjB,oBAAoB,CAAChB,IAAI,CAAC+B,QAAQ,CAAC,CACnCjB,OAAO,CAACC,GAAG,CAACf,IAAI,CAAC,CACf,mBACIb,IAAA,QAAKgD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAC9BjD,IAAA,QAAKgD,SAAS,CAAC,2CAA2C,CAAAC,QAAA,cACtD/C,KAAA,QAAK8C,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eAC/D/C,KAAA,QAAK8C,SAAS,CAAC,kEAAkE,CAAAC,QAAA,eAC7EjD,IAAA,QAAKkD,GAAG,CAAE7B,aAAc,CAAC8B,GAAG,CAAC,SAAS,CAACH,SAAS,CAAC,4BAA4B,CAAE,CAAC,cAChFhD,IAAA,OAAIgD,SAAS,CAAC,4BAA4B,CAAE,CAAC,cAC7ChD,IAAA,QAAKgD,SAAS,CAAC,wDAAwD,CAAAC,QAAA,CAClEpC,IAAI,CAACU,MAAM,CAAC6B,GAAG,CAAC,CAACC,KAAK,CAAEC,KAAK,gBAC1BtD,IAAA,QAEIkD,GAAG,CAAEG,KAAM,CACXF,GAAG,WAAAI,MAAA,CAAYD,KAAK,CAAG,CACvBN,SAAS,CAAC,qBAAqB,CAC/BQ,OAAO,CAAEA,CAAA,GAAMlC,gBAAgB,CAAC+B,KAAK,CAAE,EAJlCC,KAKR,CACJ,CAAC,CACD,CAAC,EACL,CAAC,cACNpD,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC1BjD,IAAA,OAAIgD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAEpC,IAAI,CAAC4C,QAAQ,CAAK,CAAC,cAC1EzD,IAAA,QAAKgD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cACtC/C,KAAA,MAAG8C,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,GAAC,cAAAjD,IAAA,SAAMgD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEvD,MAAM,CAACmB,IAAI,CAAC6C,SAAS,CAAC,CAAO,CAAC,EAAG,CAAC,CAC5G,CAAC,cAENxD,KAAA,QAAK8C,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjBjD,IAAA,OAAIgD,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cACnEjD,IAAA,OAAIgD,SAAS,CAAC,qDAAqD,CAAAC,QAAA,cAC/DjD,IAAA,OAAAiD,QAAA,CAAKpC,IAAI,CAAC8C,OAAO,CAAK,CAAC,CACf,CAAC,EACZ,CAAC,cACNzD,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC9BjD,IAAA,OAAI4D,KAAK,CAAC,iCAAiC,CAAAX,QAAA,CAAE7C,OAAO,CAAK,CAAC,cACtDF,KAAA,QAAK8C,SAAS,CAAC,uBAAuB,CAACQ,OAAO,CAAEhC,aAAc,CAAAyB,QAAA,eAC1DjD,IAAA,QAAKkD,GAAG,CAAC,qCAAqC,CAACF,SAAS,CAAC,8CAA8C,CAAE,CAAC,cAC1G9C,KAAA,QAAK8C,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjBjD,IAAA,OAAIgD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEpC,IAAI,CAACI,IAAI,CAAK,CAAC,cAClDjB,IAAA,QAAKgD,SAAS,CAAC,qBAAqB,CAC/B,CAAC,EACL,CAAC,EACL,CAAC,EACL,CAAC,EACL,CAAC,EACL,CAAC,CACL,CAAC,CACL,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}